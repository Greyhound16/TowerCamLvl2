<!DOCTYPE html>
<html>
<head>
  <title>Fire Tower MVP</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<h2>Fire Tower MVP</h2>

<video id="video" autoplay playsinline width="100%"></video>

<button id="enableBtn">ENABLE SENSORS</button>
<button id="confirmBtn">CONFIRM POINTING</button>

<p id="status">Compass not ready</p>

<script>
let heading = null;
let sensorEnabled = false;

// Enable camera and device orientation
async function enableSensors() {
  try {
    // Camera
    const stream = await navigator.mediaDevices.getUserMedia({
      video: { facingMode: "environment" }
    });
    document.getElementById("video").srcObject = stream;

    // Orientation permissions (iOS 13+)
    if (typeof DeviceOrientationEvent?.requestPermission === "function") {
      const permission = await DeviceOrientationEvent.requestPermission();
      if (permission === "granted") {
        window.addEventListener("deviceorientation", handleOrientation);
        sensorEnabled = true;
        document.getElementById("status").innerText = "Compass ready";
      } else {
        alert("Orientation permission denied");
      }
    } else {
      // Android / fallback
      window.addEventListener("deviceorientationabsolute", handleOrientation);
      sensorEnabled = true;
      document.getElementB
